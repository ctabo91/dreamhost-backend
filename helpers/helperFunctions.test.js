const { makeMealObj, makeDrinkObj } = require("./helperFunctions");

describe("makeMealObj", function () {
    let mealData = {
        idMeal: "52772",
        strMeal: "Teriyaki Chicken Casserole",
        strDrinkAlternate: null,
        strCategory: "Chicken",
        strArea: "Japanese",
        strInstructions: "Preheat oven to 350° F. Spray a 9x13-inch baking pan with non-stick spray.\r\nCombine soy sauce, ½ cup water, brown sugar, ginger and garlic in a small saucepan and cover. Bring to a boil over medium heat. Remove lid and cook for one minute once boiling.\r\nMeanwhile, stir together the corn starch and 2 tablespoons of water in a separate dish until smooth. Once sauce is boiling, add mixture to the saucepan and stir to combine. Cook until the sauce starts to thicken then remove from heat.\r\nPlace the chicken breasts in the prepared pan. Pour one cup of the sauce over top of chicken. Place chicken in oven and bake 35 minutes or until cooked through. Remove from oven and shred chicken in the dish using two forks.\r\n*Meanwhile, steam or cook the vegetables according to package directions.\r\nAdd the cooked vegetables and rice to the casserole dish with the chicken. Add most of the remaining sauce, reserving a bit to drizzle over the top when serving. Gently toss everything together in the casserole dish until combined. Return to oven and cook 15 minutes. Remove from oven and let stand 5 minutes before serving. Drizzle each serving with remaining sauce. Enjoy!",
        strMealThumb: "https://www.themealdb.com/images/media/meals/wvpsxx1468256321.jpg",
        strTags: "Meat,Casserole",
        strYoutube: "https://www.youtube.com/watch?v=4aZr5hZXP_s",
        strIngredient1: "soy sauce",
        strIngredient2: "water",
        strIngredient3: "brown sugar",
        strIngredient4: "ground ginger",
        strIngredient5: "minced garlic",
        strIngredient6: "cornstarch",
        strIngredient7: "chicken breasts",
        strIngredient8: "stir-fry vegetables",
        strIngredient9: "brown rice",
        strIngredient10: "",
        strIngredient11: "",
        strIngredient12: "",
        strIngredient13: "",
        strIngredient14: "",
        strIngredient15: "",
        strIngredient16: null,
        strIngredient17: null,
        strIngredient18: null,
        strIngredient19: null,
        strIngredient20: null,
        strMeasure1: "3/4 cup",
        strMeasure2: "1/2 cup",
        strMeasure3: "1/4 cup",
        strMeasure4: "1/2 teaspoon",
        strMeasure5: "1/2 teaspoon",
        strMeasure6: "4 Tablespoons",
        strMeasure7: "2",
        strMeasure8: "1 (12 oz.)",
        strMeasure9: "3 cups",
        strMeasure10: "",
        strMeasure11: "",
        strMeasure12: "",
        strMeasure13: "",
        strMeasure14: "",
        strMeasure15: "",
        strMeasure16: null,
        strMeasure17: null,
        strMeasure18: null,
        strMeasure19: null,
        strMeasure20: null,
        strSource: null,
        strImageSource: null,
        strCreativeCommonsConfirmed: null,
        dateModified: null
    }

    test("works", function () {
        const result = makeMealObj(mealData);
        expect(result).toEqual({
            name: mealData.strMeal,
            category: mealData.strCategory,
            area: mealData.strArea,
            instructions: mealData.strInstructions,
            thumbnail: mealData.strMealThumb,
            ingredients: [
                "3/4 cup soy sauce",
                "1/2 cup water",
                "1/4 cup brown sugar",
                "1/2 teaspoon ground ginger",
                "1/2 teaspoon minced garlic",
                "4 Tablespoons cornstarch",
                "2 chicken breasts",
                "1 (12 oz.) stir-fry vegetables",
                "3 cups brown rice",
            ],
        });
    });
});



describe("makeDrinkObj", function () {
    let drinkData = {
        idDrink: "11007",
        strDrink: "Margarita",
        strDrinkAlternate: null,
        strTags: "IBA,ContemporaryClassic",
        strVideo: null,
        strCategory: "Ordinary Drink",
        strIBA: "Contemporary Classics",
        strAlcoholic: "Alcoholic",
        strGlass: "Cocktail glass",
        strInstructions: "Rub the rim of the glass with the lime slice to make the salt stick to it. Take care to moisten only the outer rim and sprinkle the salt on it. The salt should present to the lips of the imbiber and never mix into the cocktail. Shake the other ingredients with ice, then carefully pour into the glass.",
        strInstructionsES: null,
        strInstructionsDE: "Reiben Sie den Rand des Glases mit der Limettenscheibe, damit das Salz daran haftet. Achten Sie darauf, dass nur der äußere Rand angefeuchtet wird und streuen Sie das Salz darauf. Das Salz sollte sich auf den Lippen des Genießers befinden und niemals in den Cocktail einmischen. Die anderen Zutaten mit Eis schütteln und vorsichtig in das Glas geben.",
        strInstructionsFR: null,
        strInstructionsIT: "Strofina il bordo del bicchiere con la fetta di lime per far aderire il sale.\r\nAvere cura di inumidire solo il bordo esterno e cospargere di sale.\r\nIl sale dovrebbe presentarsi alle labbra del bevitore e non mescolarsi mai al cocktail.\r\nShakerare gli altri ingredienti con ghiaccio, quindi versarli delicatamente nel bicchiere.",
        strInstructionsZHHANS: null,
        strInstructionsZHHANT: null,
        strDrinkThumb: "https://www.thecocktaildb.com/images/media/drink/5noda61589575158.jpg",
        strIngredient1: "Tequila",
        strIngredient2: "Triple sec",
        strIngredient3: "Lime juice",
        strIngredient4: "Salt",
        strIngredient5: null,
        strIngredient6: null,
        strIngredient7: null,
        strIngredient8: null,
        strIngredient9: null,
        strIngredient10: null,
        strIngredient11: null,
        strIngredient12: null,
        strIngredient13: null,
        strIngredient14: null,
        strIngredient15: null,
        strMeasure1: "1 1/2 oz ",
        strMeasure2: "1/2 oz ",
        strMeasure3: "1 oz ",
        strMeasure4: null,
        strMeasure5: null,
        strMeasure6: null,
        strMeasure7: null,
        strMeasure8: null,
        strMeasure9: null,
        strMeasure10: null,
        strMeasure11: null,
        strMeasure12: null,
        strMeasure13: null,
        strMeasure14: null,
        strMeasure15: null,
        strImageSource: "https://commons.wikimedia.org/wiki/File:Klassiche_Margarita.jpg",
        strImageAttribution: "Cocktailmarler",
        strCreativeCommonsConfirmed: "Yes",
        dateModified: "2015-08-18 14:42:59"
    }

    test("works", function () {
        const result = makeDrinkObj(drinkData);
        expect(result).toEqual({
            name: drinkData.strDrink,
            category: drinkData.strCategory,
            type: drinkData.strAlcoholic,
            glass: drinkData.strGlass,
            instructions: drinkData.strInstructions,
            thumbnail: drinkData.strDrinkThumb,
            ingredients: [
                "1 1/2 oz Tequila",
                "1/2 oz Triple sec",
                "1 oz Lime juice",
                "Salt",
            ],
        });
    });
});